<!DOCTYPE>
<html>
    <head>
        <title>CartExample KnockoutJS</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
    <body>
        <h1>E-SHOP</h1>
        <p class="totalCount" data-bind="text: totalItems()"></p>
        <div class='cartWrapper'> 
            
            <table width='100%'>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Product</th>
                        <th class="price">Price</th>
                        <th class="quantity">Quantity</th>
                        <th class="price">Subtotal</th>
                        <th> </th>
                    </tr>
                </thead>
                <tbody data-bind='foreach: lines'>
                    <tr>
                        <td>
                            <select data-bind='options: sampleProductCategories, optionsText: "name", optionsCaption: "Select...", value: category'> </select>
                        </td>
                        <td data-bind="with: category">
                            <select data-bind='options: products, optionsText: "name", optionsCaption: "Select...", value: $parent.product'> </select>
                        </td>
                        <td class='price' data-bind='with: product'>
                            <span data-bind='text: formatCurrency(price)'> </span>
                        </td>
                        <td class='quantity'>
                            <input data-bind='visible: product, value: quantity, valueUpdate: "afterkeydown"' />
                        </td>
                        <td class='price'>
                            <span data-bind='visible: product, text: formatCurrency(subtotal())' > </span>
                        </td>
                        <td class="remove">
                            <a href='#' data-bind='click: $parent.removeLine'></a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="total">
                <p class='grandTotal'>
                    Total value: <span data-bind='text: formatCurrency(grandTotal())'> </span>
                </p>                
                <button data-bind='click: addLine'>Add product</button>
                <button data-bind='click: save'>Submit order</button>
            </div>
        </div>
    </body>
    <script src= "https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js" type="text/javascript"></script>
    <script src="productCategories.js" type="text/javascript"></script>    
    <script src="cart.js" type="text/javascript"></script>
</html>